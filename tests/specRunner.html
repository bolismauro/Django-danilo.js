<!DOCTYPE html>
<html>
<head>
  <title>danilo.js demo application</title>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="../demo/style.css" type="text/css" />
  <link rel="stylesheet" type="text/css" href="libs/jasmine.css">
</head>

<body>
  <h1>Demo app</h1>

  <form data-bind="try_login">
    <p>This is a sample form. When you submit it a form/submit/try_login event will be
    fired</p>

    <p><input type="text" value="demo" name="username" /></p>

    <p><input type="submit" value="Click me!" /></p>
  </form>
  <hr />

  <p>This is a simple button. When the page is loaded a custom event is attached</p>

  <form>
    <input type="button" value="Custom event button" id="custom-event-button" />
  </form>
  <hr />

  <form data-bind="my_user_form">
    <fieldset>
      <legend>Parsing model attributes from an HTML form</legend>

      <p><label>Username</label><input type="text" name="username" data-bind=
      "username" /></p>

      <p><label>Password</label><input type="password" name="password" data-bind=
      "password" /></p>

      <p><input type="submit" value="Save" /></p>
    </fieldset>
  </form>

<script type="text/javascript" src="../libs/require.js" data-main="./specRunner.js"></script>

<!-- Tests -->
<script type="text/javascript" src="libs/jasmine.js"></script>
<script type="text/javascript" src="libs/jasmine-html.js"></script>
<script type="text/javascript" src="libs/expect.js"></script>

<script type="text/javascript">
  "use strict";
  
  // RequireJS
  (function() {

    require.config({
      baseUrl: '/build/src/',
      paths: {
        danilo: "../src/danilo",
        handlebars: "../libs/handlebars",
        pubsub: "../libs/pubsub",
        promise: "../libs/promise",
        superagent: "../libs/superagent"
      },
      shim: {
        handlebars: {
          exports: 'Handlebars'
        },
        promise: {
          exports: 'promise'
        },
        superagent: {
          exports: 'superagent'
        }
      }
    });

  })();
  
  // Jasmine Spec Runner
  window.specs = [];
  
  (function() {
    var jasmineEnv = jasmine.getEnv();
    jasmineEnv.updateInterval = 1000;

    var htmlReporter = new jasmine.HtmlReporter();
    jasmineEnv.addReporter(htmlReporter);

    jasmineEnv.specFilter = function(spec) {
      return htmlReporter.specFilter(spec);
    };

    var currentWindowOnload = window.onload;
    window.onload = function() {
      if (currentWindowOnload) {
        currentWindowOnload();
      }
      jasmineEnv.execute();
    };
  })();
</script>

<!-- Specs -->
<script type="text/javascript" src="specs/model.js"></script>


</body>
</html>
